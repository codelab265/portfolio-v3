import{K as u,r as p,m as w,j as e,L as f}from"./app-CMnC5Tj6.js";import{B as c,M as y,C as m}from"./MainLayout-BzU_-8zn.js";import{B as d,m as N}from"./Box-BNkO5lmN.js";import{I as g}from"./InputError-DIf4CvaZ.js";function k(){const{flash:s}=u().props,[o,n]=p.useState(5),[r,l]=p.useState(null),{data:i,setData:t,post:j,processing:x,errors:h,reset:v}=w({company:"",rating:5,message:""}),b=a=>{a.preventDefault(),j(route("reviews.create"),{onSuccess:()=>{v()},preserveScroll:!0})};return e.jsxs(d,{className:"max-w-2xl mx-auto",children:[e.jsx("h3",{className:"text-xl font-medium mb-6 text-white border-b border-primary p-4",children:"Leave a Review"}),e.jsxs("form",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"company",className:"block text-grey mb-2",children:"Company"}),e.jsx("input",{type:"text",id:"company",className:"w-full bg-dark border border-grey rounded px-4 py-2 text-white focus:border-primary focus:outline-none transition-colors",value:i.company,onChange:a=>t("company",a.target.value),required:!0}),e.jsx(g,{message:h.company})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-grey mb-2",children:"Rating"}),e.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(a=>e.jsx("button",{type:"button",className:`text-2xl transition-colors ${(r||o)>=a?"text-primary":"text-grey"}`,onMouseEnter:()=>l(a),onMouseLeave:()=>l(null),onClick:()=>{t("rating",a),n(a)},children:"★"},a))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"review",className:"block text-grey mb-2",children:"Your Review"}),e.jsx("textarea",{id:"review",rows:"4",className:"w-full bg-dark border border-grey rounded px-4 py-2 text-white focus:border-primary focus:outline-none transition-colors",required:!0,value:i.message,onChange:a=>t("message",a.target.value)}),e.jsx(g,{message:h.message})]}),e.jsx(N.button,{type:"submit",className:"w-full px-6 py-3 bg-dark border border-primary text-white hover:bg-primary transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},disabled:x,onClick:b,children:x?"Submitting...":"Submit Review"}),s.success&&e.jsx("div",{className:"px-4 md:px-0 w-full mb-8",children:e.jsx(c,{children:e.jsx("div",{className:"bg-green-500/10 border border-green-500 text-green-300 p-4 rounded-md",children:s.success})})})]})]})}function R({user:s,company:o,position:n,message:r,rating:l}){return e.jsxs(d,{className:"h-full flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-primary",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"size-12 rounded-full overflow-hidden",children:s.profile_picture?e.jsx("img",{src:s.profile_picture,alt:s.name,className:"w-full h-full object-cover"}):e.jsx("img",{src:"/images/google.svg",alt:s.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:s.name}),e.jsxs("p",{className:"text-grey text-sm",children:[n," at ",o]})]})]})}),e.jsx("div",{className:"p-4 flex-grow",children:e.jsx("p",{className:"text-grey text-sm leading-relaxed line-clamp-4",children:r})}),e.jsx("div",{className:"p-4 border-t border-grey",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex",children:Array.from({length:l}).map((i,t)=>e.jsx("span",{className:"text-primary",children:"★"},t))}),e.jsxs("span",{className:"text-grey text-sm",children:[l,".0 / 5.0"]})]})}),e.jsx("div",{className:"absolute -top-1 -left-1 size-2 bg-primary"}),e.jsx("div",{className:"absolute -bottom-1 -right-1 size-2 bg-primary"})]})}function Y(){const{reviews:s,auth:o,flash:n}=u().props,r=o.user,l=s.length?(s.reduce((i,t)=>i+t.rating,0)/s.length).toFixed(1):"0.0";return e.jsxs(y,{children:[e.jsx(f,{title:"Reviews"}),e.jsx(m,{className:"pt-[123px] pb-20",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 px-4 md:px-0",children:[e.jsxs("div",{className:"col-span-12 md:col-span-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[e.jsxs("h2",{className:"text-2xl md:text-[32px] font-medium text-white",children:[e.jsx("span",{className:"text-primary",children:"#"}),"reviews"]}),e.jsx("div",{className:"w-32 h-[1px] bg-primary"})]}),e.jsx("div",{className:"space-y-4",children:s.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-grey text-base md:text-lg",children:["Hey ",(r==null?void 0:r.name)||"there","! Thanks for checking out what others have to say about working with me. These reviews help me improve and show potential clients what to expect."]}),e.jsx("p",{className:"text-grey text-sm md:text-base",children:r?"If we've worked together before, I'd love to hear your thoughts too! Feel free to share your experience below.":"If we've worked together before, please sign in to leave a review. Your feedback means a lot to me!"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-grey text-base md:text-lg",children:["Hey ",(r==null?void 0:r.name)||"there","! Looks like you're the first one here. I'm excited to collect feedback from clients about our work together."]}),e.jsx("p",{className:"text-grey text-sm md:text-base",children:r?"If we've worked together, why not be the first to share your experience? Your review will help others understand what it's like to work with me.":"If we've worked together before, please sign in to be the first to leave a review. Your feedback would mean a lot to me!"})]})})]}),e.jsx("div",{className:"col-span-12 md:col-span-4 relative",children:e.jsx(d,{className:"h-full flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"text-4xl font-bold text-primary",children:l}),e.jsx("div",{className:"text-grey",children:s.length===0?"No Reviews Yet":`Average Rating (${s.length} review${s.length===1?"":"s"})`}),e.jsx("div",{className:"flex justify-center",children:Array.from({length:5}).map((i,t)=>e.jsx("span",{className:t<Math.round(l)?"text-primary":"text-grey",children:"★"},t))})]})})})]})}),r&&e.jsxs(m,{className:"py-20 bg-dark/50",children:[n.success&&e.jsx("div",{className:"px-4 md:px-0 w-full md:w-1/2 mx-auto mb-8",children:e.jsx(c,{children:e.jsx("div",{className:"bg-green-500/10 border border-green-500 text-green-300 p-4 rounded-md",children:n.success})})}),e.jsx("div",{className:"px-4 md:px-0",children:e.jsx(c,{children:e.jsx(k,{})})})]}),e.jsx(m,{className:"py-20",children:e.jsx("div",{className:"px-4 md:px-0",children:s.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((i,t)=>e.jsx(c,{delay:t*.2,children:e.jsx(R,{...i})},t))}):e.jsx(c,{children:e.jsxs(d,{className:"text-center py-20",children:[e.jsx("h3",{className:"text-2xl font-medium text-white mb-4",children:"Be the First Reviewer!"}),e.jsx("p",{className:"text-grey max-w-2xl mx-auto",children:r?"Share your experience and help others understand what it's like to work with me. Your review will appear here and help future clients make their decision.":"Sign in to share your experience and be the first to leave a review. Your feedback will help others understand what it's like to work with me."})]})})})})]})}export{Y as default};
